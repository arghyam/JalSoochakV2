// Mock data service for dashboard

import type {
  DashboardData,
  DashboardLevel,
  EntityPerformance,
  DemandSupplyData,
  KPIData,
  PumpOperatorPerformanceData,
} from '../../types'
import type { SearchableSelectOption } from '@/shared/components/common'

type FilterOptionsByKey = Record<string, SearchableSelectOption[]>

// Mock data for filters in dashboard
export const mockFilterStates = [{ value: 'telangana', label: 'Telangana' }]

export const mockFilterDistricts: FilterOptionsByKey = {
  telangana: [
    { value: 'sangareddy', label: 'Sangareddy' },
    { value: 'rangareddy', label: 'Ranga Reddy' },
  ],
}

export const mockFilterBlocks: FilterOptionsByKey = {
  sangareddy: [
    { value: 'patancheru', label: 'Patancheru' },
    { value: 'zaheerabad', label: 'Zaheerabad' },
  ],
  rangareddy: [
    { value: 'shamshabad', label: 'Shamshabad' },
    { value: 'chevella', label: 'Chevella' },
  ],
}

export const mockFilterGramPanchayats: FilterOptionsByKey = {
  patancheru: [
    { value: 'isnapur', label: 'Isnapur' },
    { value: 'rudraram', label: 'Rudraram' },
  ],
  zaheerabad: [
    { value: 'machanpalli', label: 'Machanpalli' },
    { value: 'nagur', label: 'Nagur' },
  ],
  shamshabad: [
    { value: 'sathamrai', label: 'Sathamrai' },
    { value: 'gollapalli', label: 'Gollapalli' },
  ],
  chevella: [
    { value: 'ankireddypalli', label: 'Ankireddypalli' },
    { value: 'devuni-erravalli', label: 'Devuni Erravalli' },
  ],
}

export const mockFilterVillages: FilterOptionsByKey = {
  isnapur: [
    { value: 'kistareddypet', label: 'Kistareddypet' },
    { value: 'industrial-area', label: 'Industrial Area' },
  ],
  rudraram: [
    { value: 'iit-hyderabad-area', label: 'IIT Hyderabad Area' },
    { value: 'bandalguda', label: 'Bandalguda' },
  ],
  machanpalli: [
    { value: 'machanpalli-village', label: 'Machanpalli Village' },
    { value: 'thimmapur', label: 'Thimmapur' },
  ],
  nagur: [
    { value: 'nagur-village', label: 'Nagur Village' },
    { value: 'khanapur', label: 'Khanapur' },
  ],
  sathamrai: [
    { value: 'sathamrai-village', label: 'Sathamrai Village' },
    { value: 'malkapur', label: 'Malkapur' },
  ],
  gollapalli: [
    { value: 'gollapalli-village', label: 'Gollapalli Village' },
    { value: 'ramanujapur', label: 'Ramanujapur' },
  ],
  ankireddypalli: [
    { value: 'ankireddypalli-village', label: 'Ankireddypalli Village' },
    { value: 'mallapur', label: 'Mallapur' },
  ],
  'devuni-erravalli': [
    { value: 'erravalli-village', label: 'Erravalli Village' },
    { value: 'thangedpalli', label: 'Thangedpalli' },
  ],
}

export const mockFilterDuration = [
  { value: 'last_7_days', label: 'Last 7 Days' },
  { value: 'last_30_days', label: 'Last 30 Days' },
]

export const mockFilterSchemes = [
  { value: 'jal-jeevan-mission', label: 'Jal Jeevan Mission' },
  { value: 'swachh-bharat-mission', label: 'Swachh Bharat Mission' },
]

// Mock state data for India map
const mockStates: EntityPerformance[] = [
  {
    id: 'RJ',
    name: 'Rajasthan',
    coverage: 45.2,
    regularity: 62.5,
    continuity: 58.3,
    quantity: 45,
    compositeScore: 52.75,
    status: 'critical',
  },
  {
    id: 'UP',
    name: 'Uttar Pradesh',
    coverage: 38.7,
    regularity: 55.2,
    continuity: 52.1,
    quantity: 42,
    compositeScore: 47.0,
    status: 'critical',
  },
  {
    id: 'MH',
    name: 'Maharashtra',
    coverage: 52.3,
    regularity: 68.4,
    continuity: 65.2,
    quantity: 55,
    compositeScore: 60.25,
    status: 'needs-attention',
  },
  {
    id: 'KL',
    name: 'Kerala',
    coverage: 85.6,
    regularity: 92.3,
    continuity: 88.7,
    quantity: 75,
    compositeScore: 85.65,
    status: 'good',
  },
  {
    id: 'TN',
    name: 'Tamil Nadu',
    coverage: 78.4,
    regularity: 85.2,
    continuity: 82.1,
    quantity: 68,
    compositeScore: 78.45,
    status: 'good',
  },
  {
    id: 'KA',
    name: 'Karnataka',
    coverage: 72.1,
    regularity: 78.5,
    continuity: 75.3,
    quantity: 62,
    compositeScore: 72.0,
    status: 'good',
  },
  {
    id: 'AP',
    name: 'Andhra Pradesh',
    coverage: 68.9,
    regularity: 75.2,
    continuity: 72.4,
    quantity: 58,
    compositeScore: 68.625,
    status: 'good',
  },
  {
    id: 'TG',
    name: 'Telangana',
    coverage: 65.3,
    regularity: 72.1,
    continuity: 69.8,
    quantity: 55,
    compositeScore: 65.55,
    status: 'good',
  },
  {
    id: 'GJ',
    name: 'Gujarat',
    coverage: 58.7,
    regularity: 65.4,
    continuity: 62.1,
    quantity: 52,
    compositeScore: 59.55,
    status: 'needs-attention',
  },
  {
    id: 'MP',
    name: 'Madhya Pradesh',
    coverage: 42.1,
    regularity: 58.3,
    continuity: 55.7,
    quantity: 48,
    compositeScore: 51.025,
    status: 'critical',
  },
  {
    id: 'WB',
    name: 'West Bengal',
    coverage: 48.5,
    regularity: 62.1,
    continuity: 59.4,
    quantity: 50,
    compositeScore: 55.0,
    status: 'needs-attention',
  },
  {
    id: 'BR',
    name: 'Bihar',
    coverage: 35.2,
    regularity: 48.7,
    continuity: 45.3,
    quantity: 40,
    compositeScore: 42.3,
    status: 'critical',
  },
  {
    id: 'OR',
    name: 'Odisha',
    coverage: 55.8,
    regularity: 68.2,
    continuity: 64.5,
    quantity: 54,
    compositeScore: 60.125,
    status: 'needs-attention',
  },
  {
    id: 'HR',
    name: 'Haryana',
    coverage: 72.5,
    regularity: 80.1,
    continuity: 77.8,
    quantity: 65,
    compositeScore: 73.85,
    status: 'good',
  },
  {
    id: 'PB',
    name: 'Punjab',
    coverage: 75.2,
    regularity: 82.4,
    continuity: 79.6,
    quantity: 68,
    compositeScore: 76.3,
    status: 'good',
  },
  {
    id: 'JK',
    name: 'Jammu and Kashmir',
    coverage: 62.1,
    regularity: 70.5,
    continuity: 67.2,
    quantity: 56,
    compositeScore: 64.0,
    status: 'needs-attention',
  },
  {
    id: 'HP',
    name: 'Himachal Pradesh',
    coverage: 68.4,
    regularity: 75.8,
    continuity: 72.1,
    quantity: 60,
    compositeScore: 69.075,
    status: 'good',
  },
  {
    id: 'UK',
    name: 'Uttarakhand',
    coverage: 65.7,
    regularity: 73.2,
    continuity: 70.5,
    quantity: 58,
    compositeScore: 66.85,
    status: 'good',
  },
  {
    id: 'AS',
    name: 'Assam',
    coverage: 58.2,
    regularity: 66.8,
    continuity: 63.4,
    quantity: 53,
    compositeScore: 60.1,
    status: 'needs-attention',
  },
  {
    id: 'JH',
    name: 'Jharkhand',
    coverage: 40.3,
    regularity: 55.1,
    continuity: 52.8,
    quantity: 45,
    compositeScore: 48.05,
    status: 'critical',
  },
  {
    id: 'CT',
    name: 'Chhattisgarh',
    coverage: 44.8,
    regularity: 60.2,
    continuity: 57.5,
    quantity: 48,
    compositeScore: 52.625,
    status: 'critical',
  },
]

export const mockDistrictPerformanceByState: Record<string, EntityPerformance[]> = {
  telangana: [
    {
      id: 'TG-AD',
      name: 'Adilabad',
      coverage: 71.4,
      regularity: 78.2,
      continuity: 74.6,
      quantity: 56,
      compositeScore: 74.1,
      status: 'good',
    },
    {
      id: 'TG-HY',
      name: 'Hyderabad',
      coverage: 82.5,
      regularity: 88.1,
      continuity: 84.3,
      quantity: 62,
      compositeScore: 84.9,
      status: 'good',
    },
    {
      id: 'TG-JG',
      name: 'Jagtial',
      coverage: 65.2,
      regularity: 72.4,
      continuity: 69.1,
      quantity: 50,
      compositeScore: 69.0,
      status: 'needs-attention',
    },
    {
      id: 'TG-KM',
      name: 'Karimnagar',
      coverage: 68.7,
      regularity: 75.9,
      continuity: 72.3,
      quantity: 54,
      compositeScore: 72.4,
      status: 'good',
    },
    {
      id: 'TG-KH',
      name: 'Khammam',
      coverage: 62.9,
      regularity: 70.8,
      continuity: 67.5,
      quantity: 49,
      compositeScore: 67.1,
      status: 'needs-attention',
    },
    {
      id: 'TG-MD',
      name: 'Mahabubnagar',
      coverage: 58.4,
      regularity: 65.7,
      continuity: 62.1,
      quantity: 46,
      compositeScore: 62.1,
      status: 'needs-attention',
    },
    {
      id: 'TG-ME',
      name: 'Medak',
      coverage: 60.1,
      regularity: 67.9,
      continuity: 64.4,
      quantity: 47,
      compositeScore: 64.1,
      status: 'needs-attention',
    },
    {
      id: 'TG-NZ',
      name: 'Nizamabad',
      coverage: 55.6,
      regularity: 63.2,
      continuity: 60.4,
      quantity: 44,
      compositeScore: 59.7,
      status: 'critical',
    },
    {
      id: 'TG-SD',
      name: 'Sangareddy',
      coverage: 64.3,
      regularity: 71.1,
      continuity: 68.2,
      quantity: 52,
      compositeScore: 67.9,
      status: 'needs-attention',
    },
  ],
}

export const mockBlockPerformanceByDistrict: Record<string, EntityPerformance[]> = {
  sangareddy: [
    {
      id: 'TG-SD-NA',
      name: 'Nabha',
      coverage: 78,
      regularity: 85,
      continuity: 82,
      quantity: 57,
      compositeScore: 85,
      status: 'good',
    },
    {
      id: 'TG-SD-PA',
      name: 'Patiala',
      coverage: 65,
      regularity: 84,
      continuity: 80,
      quantity: 52,
      compositeScore: 75,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-PR',
      name: 'Patran',
      coverage: 64,
      regularity: 75,
      continuity: 72,
      quantity: 48,
      compositeScore: 72,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-RJ',
      name: 'Rajpura',
      coverage: 58,
      regularity: 72,
      continuity: 70,
      quantity: 42,
      compositeScore: 85,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-SA',
      name: 'Samana',
      coverage: 58,
      regularity: 72,
      continuity: 70,
      quantity: 42,
      compositeScore: 85,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-SN',
      name: 'Sanaur',
      coverage: 58,
      regularity: 72,
      continuity: 70,
      quantity: 42,
      compositeScore: 85,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-SH',
      name: 'Shutrana',
      coverage: 58,
      regularity: 72,
      continuity: 70,
      quantity: 42,
      compositeScore: 85,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-AM',
      name: 'Ameenpur',
      coverage: 62,
      regularity: 74,
      continuity: 71,
      quantity: 45,
      compositeScore: 78,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-JN',
      name: 'Jinnaram',
      coverage: 60,
      regularity: 73,
      continuity: 69,
      quantity: 44,
      compositeScore: 76,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-ZH',
      name: 'Zahirabad',
      coverage: 63,
      regularity: 75,
      continuity: 72,
      quantity: 46,
      compositeScore: 79,
      status: 'good',
    },
    {
      id: 'TG-SD-SD',
      name: 'Sadasivpet',
      coverage: 59,
      regularity: 71,
      continuity: 68,
      quantity: 43,
      compositeScore: 74,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-KD',
      name: 'Kohir',
      coverage: 57,
      regularity: 70,
      continuity: 67,
      quantity: 41,
      compositeScore: 72,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-MN',
      name: 'Munipally',
      coverage: 61,
      regularity: 74,
      continuity: 70,
      quantity: 45,
      compositeScore: 77,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-NR',
      name: 'Narayankhed',
      coverage: 56,
      regularity: 69,
      continuity: 66,
      quantity: 40,
      compositeScore: 70,
      status: 'critical',
    },
    {
      id: 'TG-SD-PT',
      name: 'Pulkal',
      coverage: 58,
      regularity: 71,
      continuity: 68,
      quantity: 42,
      compositeScore: 73,
      status: 'needs-attention',
    },
    {
      id: 'TG-SD-NG',
      name: 'Nangnoor',
      coverage: 55,
      regularity: 68,
      continuity: 65,
      quantity: 39,
      compositeScore: 69,
      status: 'critical',
    },
    {
      id: 'TG-SD-HR',
      name: 'Hathnoora',
      coverage: 60,
      regularity: 72,
      continuity: 69,
      quantity: 44,
      compositeScore: 75,
      status: 'needs-attention',
    },
  ],
  rangareddy: [
    {
      id: 'TG-RR-MA',
      name: 'Maheshwaram',
      coverage: 72,
      regularity: 80,
      continuity: 77,
      quantity: 55,
      compositeScore: 78,
      status: 'good',
    },
    {
      id: 'TG-RR-SH',
      name: 'Shamshabad',
      coverage: 66,
      regularity: 76,
      continuity: 73,
      quantity: 51,
      compositeScore: 72,
      status: 'needs-attention',
    },
    {
      id: 'TG-RR-CH',
      name: 'Chevella',
      coverage: 61,
      regularity: 70,
      continuity: 68,
      quantity: 47,
      compositeScore: 68,
      status: 'needs-attention',
    },
    {
      id: 'TG-RR-IB',
      name: 'Ibrahimpatnam',
      coverage: 64,
      regularity: 73,
      continuity: 70,
      quantity: 49,
      compositeScore: 72,
      status: 'needs-attention',
    },
    {
      id: 'TG-RR-KG',
      name: 'Kandukur',
      coverage: 62,
      regularity: 71,
      continuity: 69,
      quantity: 48,
      compositeScore: 70,
      status: 'needs-attention',
    },
    {
      id: 'TG-RR-HY',
      name: 'Hayathnagar',
      coverage: 66,
      regularity: 75,
      continuity: 72,
      quantity: 50,
      compositeScore: 74,
      status: 'good',
    },
    {
      id: 'TG-RR-MA',
      name: 'Manchal',
      coverage: 59,
      regularity: 69,
      continuity: 67,
      quantity: 46,
      compositeScore: 68,
      status: 'needs-attention',
    },
    {
      id: 'TG-RR-SA',
      name: 'Saroornagar',
      coverage: 67,
      regularity: 76,
      continuity: 73,
      quantity: 51,
      compositeScore: 75,
      status: 'good',
    },
    {
      id: 'TG-RR-KP',
      name: 'Kapra',
      coverage: 63,
      regularity: 72,
      continuity: 70,
      quantity: 49,
      compositeScore: 71,
      status: 'needs-attention',
    },
  ],
}

// Mock demand-supply data for financial year
const mockDemandSupply: DemandSupplyData[] = [
  { period: 'FY20', demand: 67, supply: 60 },
  { period: 'FY21', demand: 75, supply: 82 },
  { period: 'FY22', demand: 110, supply: 99 },
  { period: 'FY23', demand: 80, supply: 65 },
  { period: 'FY24', demand: 23, supply: 15 },
  { period: 'FY25', demand: 75, supply: 73 },
]

const mockImageSubmissionStatus = [
  { label: 'Complaint Submission', value: 64 },
  { label: 'Automated Submission', value: 36 },
]

const mockPumpOperators = [
  { label: 'Active pump operators', value: 10 },
  { label: 'Non-active pump operators', value: 5 },
]

const mockLeadingPumpOperators: PumpOperatorPerformanceData[] = [
  {
    id: 'lp-1',
    name: 'Vikash',
    village: 'Bilipur',
    reportingRate: 90,
    photoCompliance: 88,
    waterSupplied: 50,
  },
  {
    id: 'lp-2',
    name: 'Navdeep',
    village: 'Dhablan',
    reportingRate: 88,
    photoCompliance: 85,
    waterSupplied: 45,
  },
  {
    id: 'lp-3',
    name: 'Nitish',
    village: 'Karamgarh',
    reportingRate: 84,
    photoCompliance: 82,
    waterSupplied: 50,
  },
  {
    id: 'lp-4',
    name: 'Navdeep',
    village: 'Dhablan',
    reportingRate: 88,
    photoCompliance: 85,
    waterSupplied: 45,
  },
  {
    id: 'lp-5',
    name: 'Nitish',
    village: 'Karamgarh',
    reportingRate: 84,
    photoCompliance: 82,
    waterSupplied: 50,
  },
]

const mockBottomPumpOperators: PumpOperatorPerformanceData[] = [
  {
    id: 'bp-1',
    name: 'Karan',
    village: 'Kakrala',
    reportingRate: 70,
    photoCompliance: 75,
    waterSupplied: 50,
  },
  {
    id: 'bp-2',
    name: 'Shashwat',
    village: 'Bhedoura',
    reportingRate: 60,
    photoCompliance: 64,
    waterSupplied: 45,
  },
  {
    id: 'bp-3',
    name: 'Nipun',
    village: 'Dhablan',
    reportingRate: 60,
    photoCompliance: 58,
    waterSupplied: 50,
  },
  {
    id: 'bp-4',
    name: 'Shashwat',
    village: 'Bhedoura',
    reportingRate: 60,
    photoCompliance: 64,
    waterSupplied: 45,
  },
  {
    id: 'bp-5',
    name: 'Nipun',
    village: 'Dhablan',
    reportingRate: 60,
    photoCompliance: 58,
    waterSupplied: 50,
  },
]

const mockWaterSupplyOutages = [
  {
    district: 'Anand',
    electricityFailure: 10,
    pipelineLeak: 18,
    pumpFailure: 14,
    valveIssue: 22,
    sourceDrying: 26,
  },
  {
    district: 'Dahod',
    electricityFailure: 12,
    pipelineLeak: 16,
    pumpFailure: 18,
    valveIssue: 20,
    sourceDrying: 22,
  },
  {
    district: 'Bharuch',
    electricityFailure: 20,
    pipelineLeak: 14,
    pumpFailure: 12,
    valveIssue: 18,
    sourceDrying: 26,
  },
  {
    district: 'Patan',
    electricityFailure: 14,
    pipelineLeak: 12,
    pumpFailure: 22,
    valveIssue: 16,
    sourceDrying: 20,
  },
  {
    district: 'Vadodara',
    electricityFailure: 18,
    pipelineLeak: 20,
    pumpFailure: 16,
    valveIssue: 14,
    sourceDrying: 12,
  },
]

// Mock KPI data for central dashboard
const mockCentralKPIs: KPIData = {
  totalSchemes: 650000,
  totalRuralHouseholds: 193620012,
  functionalTapConnections: 93620012,
}

export const dashboardMockService = {
  /**
   * Get mock dashboard data
   * replace this with API call
   */
  getDashboardData: async (level: DashboardLevel, entityId?: string): Promise<DashboardData> => {
    // Simulate API delay
    await new Promise((resolve) => setTimeout(resolve, 300))

    if (level === 'central') {
      // Sort states by composite score for top/worst performers
      const sortedStates = [...mockStates].sort((a, b) => b.compositeScore - a.compositeScore)

      return {
        level: 'central',
        kpis: mockCentralKPIs,
        mapData: mockStates,
        demandSupply: mockDemandSupply,
        imageSubmissionStatus: mockImageSubmissionStatus,
        pumpOperators: mockPumpOperators,
        waterSupplyOutages: mockWaterSupplyOutages,
        topPerformers: sortedStates.slice(0, 5),
        worstPerformers: sortedStates.slice(-5).reverse(),
        regularityData: mockStates,
        continuityData: mockStates,
        leadingPumpOperators: mockLeadingPumpOperators,
        bottomPumpOperators: mockBottomPumpOperators,
      }
    }

    //
    return {
      level,
      entityId,
      kpis: mockCentralKPIs,
      mapData: [],
      demandSupply: mockDemandSupply,
      imageSubmissionStatus: mockImageSubmissionStatus,
      pumpOperators: mockPumpOperators,
      waterSupplyOutages: mockWaterSupplyOutages,
      topPerformers: [],
      worstPerformers: [],
      regularityData: [],
      continuityData: [],
    }
  },
}
